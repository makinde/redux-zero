!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t["redux-zero"]={})}(this,function(t){"use strict";var u={instance:null},f=[],c=10;function i(e,n){var i=JSON.parse(n.state),a=Object.keys(i.actionsById).filter(function(t){return parseInt(t,10)<=n.payload.id}),o=0;setTimeout(function t(){!function(n){if("initialState"===n.type)e.setState(i.computedStates[0].state);else{var t=f.find(function(t){return n.type===t.key});t&&t.fn()}}(i.actionsById[a[o]].action),++o>=a.length||setTimeout(t,c)},0)}function d(t,n){if(!n.initialized){var e=function(t){"DISPATCH"===t.type&&("JUMP_TO_ACTION"===t.payload.type||"JUMP_TO_STATE"===t.payload.type?this.setState(JSON.parse(t.state)):"TOGGLE_ACTION"===t.payload.type&&i(this,t))}.bind(t);u.instance&&u.instance.subscribe(e),n.initialized=!0}}var p=function(r){return function(c,s){return function(t){var n,e,i,a=c(t);d(r,p),n=t,e=function(){return c(t)},(i=f.find(function(t){return n.name===t.key}))||(i={key:n.name,fn:e},f.push(i));var o={type:t.name,args:s};return a&&a.then?a.then(function(){return u.instance&&u.instance.send(o,r.getState())}):(u.instance&&u.instance.send(o,r.getState()),a)}}};"object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&(t.connect=function(t,n){return u.instance=window.__REDUX_DEVTOOLS_EXTENSION__.connect(n),u.instance&&u.instance.send("initialState",t),p}),Object.defineProperty(t,"__esModule",{value:!0})});
